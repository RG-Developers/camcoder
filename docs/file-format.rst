CCR - CamCoder Recording
========================

Документация формата файла
--------------------------

Версии протоколов
~~~~~~~~~~~~~~~~~

=============== ================
Версия Camcoder Версия протокола
=============== ================
0.1b            ``00 00``
=============== ================

Общий вид
~~~~~~~~~

В каждом CCR файле есть как минимум три секции:

#. Заголовок
#. Инициализатор
#. Фреймы Разные имплементации и версии формата могут добавлять новые секции, но данные три обязательны для любой имплементации.

Секция
~~~~~~

Каждая секция сопровождается её идентификационным номером (sID) и размером в байтах. sID должен занимать ровно 1 байт. Его размер не включается к остальному размеру секции. Размер секции должен занимать ровно 4 байта. На момент версии 0.1b существует три вида секций:

#. Заголовок (sID = 0x00)
#. Инициализатор (sID = 0x01)
#. Фреймы (sID = 0x02) Пример секции размером 4 байта и sID равным 0xFF, заполненной нулями:

::

   FF 00 00 00 04 00 00 00 00

и в "распакованном" виде:

=== ===============
Имя Данные
=== ===============
sID ``FF``
sSZ ``00 00 00 04``
sDT ``00 00 00 00``
=== ===============

Секция: Заголовок
~~~~~~~~~~~~~~~~~

sID = 0x00 Данная секция отвечает за идентификацию CCR файла и его версии протокола. На момент 0.1b занимает 6 байт: Состоит из:

======= ================
Размер  Данные
======= ================
4 байта строка "CCRF"
2 байта версия протокола
======= ================

Пример:

=== =====================
Имя Данные
=== =====================
sID ``00``
sSZ ``00 00 00 06``
sDT ``43 43 52 46 00 00``
=== =====================

Секция: Инициализатор
~~~~~~~~~~~~~~~~~~~~~

sID = 0x01 Данная секция отвечает за инициализацию энтити игрока. Состоит из:

.. raw:: html
   :file: tables/ccr/section/initialiser.html
